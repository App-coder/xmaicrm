<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><script src="ehcache_files/46428.txt" async="" type="text/javascript"></script><script src="ehcache_files/gpt.js" type="text/javascript" async=""></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Ehcache 整合Spring 使用页面、对象缓存 - hoojo - 博客园</title>
<link type="text/css" rel="stylesheet" href="ehcache_files/common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="ehcache_files/style.css">
<link type="text/css" rel="stylesheet" href="ehcache_files/common2.css">
<link type="text/css" rel="stylesheet" href="ehcache_files/shStyle.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/hoojo/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/hoojo/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/hoojo/wlwmanifest.xml">
<script src="ehcache_files/ga.js" async="" type="text/javascript"></script><script src="ehcache_files/jquery.js" type="text/javascript"></script>  
<script type="text/javascript">
var currentBlogApp = 'hoojo';
</script>
<script src="ehcache_files/common.js" type="text/javascript"></script> 
<script src="ehcache_files/json2.js" type="text/javascript"></script>
<script type="text/javascript" src="ehcache_files/syntaxHighlighter.js"></script>
<script src="ehcache_files/google_ads_gpt.js" type="text/javascript" async=""></script><script src="ehcache_files/osd.js" type="text/javascript"></script><style type="text/css" id="style_clicki_widget_3964">#clicki_widget_3964{z-index:99;font:normal 12px/11px "lucidagrande" ,tahoma,verdana,arial,sans-serif;padding:0 0 5px;height:300px;width:200px;}#clicki_widget_3964 td{border:0;padding:0}#clicki_widget_3964:after {content:"."; display:block; clear:both; visibility:hidden; height:0;}#clicki_widget_3964 .Clicki_button_box {display:none;}#clicki_widget_3964 .Clicki_window_outterbox {overflow:hidden;width:200px;height:300px;display:block;position:relative;background:#FFFFFF;color:#4B4B4B;padding:0;margin:0;overflow:hidden;}#clicki_widget_3964 .Clicki_window_box {display:block;position:relative;width:190px;height:271px;color:#4B4B4B;padding:5px 5px 0;margin:0;}#clicki_widget_3964 .Clicki_window_box iframe {direction: ltr;color: #4B4B4B;line-height: 14px;overflow-x:hidden;overflow-y:auto;border: 0;}#clicki_widget_3964 div.Clicki_copy {text-align: right;font-size:11px;background:#FFFFFF;padding:0 5px;color:#4B4B4B;text-shadow:#FFFFFF 0 0 .1em;margin:0;line-height:24px;}#clicki_widget_3964 div.Clicki_copy a:link,#clicki_widget_3964 div.Clicki_copy a:visited,#clicki_widget_3964 div.Clicki_copy a:hover,#clicki_widget_3964 div.Clicki_copy a:active {color:#4B4B4B;}</style></head>
<body><link type="text/css" rel="stylesheet" href="ehcache_files/css1.css"><iframe style="position: fixed; display: none; opacity: 0;" frameborder="0"></iframe><div style="position: fixed; z-index: 1000000000; display: none; top: 50%; left: 50%; overflow: auto;"></div><div style="position: absolute; z-index: 1000000000; display: none; overflow: auto;"></div>
<a name="top"></a>

<!--done-->
<div id="header">
	
<!--done-->
<div class="header">
	<div class="headerText">
		<a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/hoojo/">hoojo</a><br>
		学习在于积累：滴水可以石穿！
学而不思则罔，思而不学则殆！
	</div>
</div>

</div>

<div id="mytopmenu">
	
		<div id="mylinks">
<!--done-->
<a id="MyLinks1_HomeLink" class="menu" href="http://www.cnblogs.com/">博客园</a> &nbsp;
<a id="MyLinks1_MyHomeLink" class="menu" href="http://www.cnblogs.com/hoojo/">首页</a> &nbsp;
<a href="http://q.cnblogs.com/" class="menu">博问</a> &nbsp;
<a href="http://home.cnblogs.com/ing/" class="menu">闪存</a> &nbsp;
<a id="MyLinks1_NewPostLink" class="menu" rel="nofollow" href="http://www.cnblogs.com/hoojo/admin/EditPosts.aspx?opt=1">新随笔</a> &nbsp;
<a id="MyLinks1_ContactLink" class="menu" rel="nofollow" href="http://space.cnblogs.com/msg/send/hoojo">联系</a> &nbsp;
<a id="MyLinks1_Syndication" class="menu" href="http://www.cnblogs.com/hoojo/rss">订阅</a><a id="MyLinks1_XMLLink" href="http://www.cnblogs.com/hoojo/rss"><img src="ehcache_files/xml.gif" alt="订阅"></a>&nbsp;
<a id="MyLinks1_Admin" class="menu" rel="nofollow" href="http://www.cnblogs.com/hoojo/admin/EditPosts.aspx">管理</a>
</div>
		<div id="mystats">
<!--done-->
随笔-131&nbsp;
评论-430&nbsp;
文章-3&nbsp;
trackbacks-0
</div>
	
</div>
<div id="centercontent">
	
	
<div class="post">
	<h1 class="postTitle"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/hoojo/archive/2012/07/12/2587556.html">Ehcache 整合Spring 使用页面、对象缓存</a></h1>
	<div id="cnblogs_post_body"><blockquote> <p>Ehcache在很多项目中都出现过，用法也比较简单。一
般的加些配置就可以了，而且Ehcache可以对页面、对象、数据进行缓存，同时支持集群/分布式缓存。如果整合Spring、Hibernate也非常
的简单，Spring对Ehcache的支持也非常好。EHCache支持内存和磁盘的缓存，支持LRU、LFU和FIFO多种淘汰算法，支持分布式的
Cache，可以作为Hibernate的缓存插件。同时它也能提供基于Filter的Cache，该Filter可以缓存响应的内容并采用Gzip压缩
提高响应速度。</p></blockquote> <blockquote> <p>Email：hoojo_@126.com</p> <p>Blog：<a href="http://blog.csdn.net/IBM_hoojo">http://blog.csdn.net/IBM_hoojo</a></p> <p><a href="http://hoojo.cnblogs.com/">http://hoojo.cnblogs.com/</a></p></blockquote> <h4>一、准备工作</h4> <p>如果你的系统中已经成功加入Spring、Hibernate；那么你就可以进入下面Ehcache的准备工作。</p> <p>1、 下载jar包</p> <blockquote> <p>Ehcache 对象、数据缓存：<a href="http://ehcache.org/downloads/destination?name=ehcache-core-2.5.2-distribution.tar.gz&amp;bucket=tcdistributions&amp;file=ehcache-core-2.5.2-distribution.tar.gz">http://ehcache.org/downloads/destination?name=ehcache-core-2.5.2-distribution.tar.gz&amp;bucket=tcdistributions&amp;file=ehcache-core-2.5.2-distribution.tar.gz</a></p> <p>Web页面缓存：<a href="http://ehcache.org/downloads/destination?name=ehcache-web-2.0.4-distribution.tar.gz&amp;bucket=tcdistributions&amp;file=ehcache-web-2.0.4-distribution.tar.gz">http://ehcache.org/downloads/destination?name=ehcache-web-2.0.4-distribution.tar.gz&amp;bucket=tcdistributions&amp;file=ehcache-web-2.0.4-distribution.tar.gz</a></p></blockquote> <p>2、 需要添加如下jar包到lib目录下</p> <blockquote> <p>ehcache-core-2.5.2.jar</p> <p>ehcache-web-2.0.4.jar 主要针对页面缓存</p></blockquote> <p>3、 当前工程的src目录中加入配置文件</p> <blockquote> <p>ehcache.xml</p> <p>ehcache.xsd</p> <p>这些配置文件在ehcache-core这个jar包中可以找到</p></blockquote> <h4>&nbsp;</h4> <h4>二、Ehcache基本用法</h4> <div id="codeSnippetWrapper"> <div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">CacheManager cacheManager = CacheManager.create();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 或者</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cacheManager = CacheManager.getInstance();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 或者</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cacheManager = CacheManager.create(<span style="color: #006080">"/config/ehcache.xml"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 或者</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cacheManager = CacheManager.create(<span style="color: #006080">"http://localhost:8080/test/ehcache.xml"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cacheManager = CacheManager.newInstance(<span style="color: #006080">"/config/ehcache.xml"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// .......</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 获取ehcache配置文件中的一个cache</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">Cache sample = cacheManager.getCache(<span style="color: #006080">"sample"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 获取页面缓存</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">BlockingCache cache = <span style="color: #0000ff">new</span> BlockingCache(cacheManager.getEhcache(<span style="color: #006080">"SimplePageCachingFilter"</span>));</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 添加数据到缓存中</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">Element element = <span style="color: #0000ff">new</span> Element(<span style="color: #006080">"key"</span>, <span style="color: #006080">"val"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">sample.put(element);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 获取缓存中的对象，注意添加到cache中对象要序列化 实现Serializable接口</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">Element result = sample.get(<span style="color: #006080">"key"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 删除缓存</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">sample.remove(<span style="color: #006080">"key"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">sample.removeAll();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 获取缓存管理器中的缓存配置名称</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">for</span> (String cacheName : cacheManager.getCacheNames()) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    System.out.println(cacheName);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">}</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 获取所有的缓存对象</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">for</span> (Object key : cache.getKeys()) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    System.out.println(key);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">}</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 得到缓存中的对象数</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cache.getSize();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 得到缓存对象占用内存的大小</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cache.getMemoryStoreSize();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 得到缓存读取的命中次数</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cache.getStatistics().getCacheHits();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">// 得到缓存读取的错失次数</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">cache.getStatistics().getCacheMisses();</pre><!--CRLF--></div></div>
<h4>&nbsp;</h4>
<h4>三、页面缓存</h4>
<blockquote>
<p>页面缓存主要用Filter过滤器对请求的url进行过滤，如果该url在缓存中出现。那么页面数据就从缓存对象中获取，并以gzip压缩后返回。
其速度是没有压缩缓存时速度的3-5倍，效率相当之高！其中页面缓存的过滤器有CachingFilter，一般要扩展filter或是自定义
Filter都继承该CachingFilter。</p></blockquote>
<blockquote>
<p>CachingFilter功能可以对HTTP响应的内容进行缓存。这种方式缓存数据的粒度比较粗，例如缓存整张页面。它的优点是使用简单、效率高，缺点是不够灵活，可重用程度不高。</p>
<p>EHCache使用SimplePageCachingFilter类实现Filter缓存。该类继承自CachingFilter，有默认产生
cache 
key的calculateKey()方法，该方法使用HTTP请求的URI和查询条件来组成key。也可以自己实现一个Filter，同样继承
CachingFilter类,然后覆写calculateKey()方法，生成自定义的key。</p>
<p>CachingFilter输出的数据会根据浏览器发送的Accept-Encoding头信息进行Gzip压缩。</p></blockquote>
<p>在使用Gzip压缩时，需注意两个问题：</p>
<blockquote>
<p>1. Filter在进行Gzip压缩时，采用系统默认编码，对于使用GBK编码的中文网页来说，需要将操作系统的语言设置为：zh_CN.GBK，否则会出现乱码的问题。</p>
<p>2. 
默认情况下CachingFilter会根据浏览器发送的请求头部所包含的Accept-Encoding参数值来判断是否进行Gzip压缩。虽然
IE6/7浏览器是支持Gzip压缩的，但是在发送请求的时候却不带该参数。为了对IE6/7也能进行Gzip压缩，可以通过继承
CachingFilter，实现自己的Filter，然后在具体的实现中覆写方法acceptsGzipEncoding。</p>
<p>具体实现参考：</p>
<p>protected boolean acceptsGzipEncoding(HttpServletRequest request) {</p>
<p>boolean ie6 = headerContains(request, "User-Agent", "MSIE 6.0");</p>
<p>boolean ie7 = headerContains(request, "User-Agent", "MSIE 7.0");</p>
<p>return acceptsEncoding(request, "gzip") || ie6 || ie7;</p>
<p>}</p></blockquote>
<p>在ehcache.xml中加入如下配置</p>
<div id="codeSnippetWrapper">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;?</span><span style="color: #800000">xml</span> <span style="color: #ff0000">version</span><span style="color: #0000ff">="1.0"</span> <span style="color: #ff0000">encoding</span><span style="color: #0000ff">="gbk"</span>?<span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">ehcache</span> <span style="color: #ff0000">xmlns:xsi</span><span style="color: #0000ff">="http://www.w3.org/2001/XMLSchema-instance"</span> <span style="color: #ff0000">xsi:noNamespaceSchemaLocation</span><span style="color: #0000ff">="ehcache.xsd"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">diskStore</span> <span style="color: #ff0000">path</span><span style="color: #0000ff">="java.io.tmpdir"</span><span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">defaultCache</span> <span style="color: #ff0000">maxElementsInMemory</span><span style="color: #0000ff">="10000"</span> <span style="color: #ff0000">eternal</span><span style="color: #0000ff">="false"</span> <span style="color: #ff0000">timeToIdleSeconds</span><span style="color: #0000ff">="30"</span> <span style="color: #ff0000">timeToLiveSeconds</span><span style="color: #0000ff">="30"</span> <span style="color: #ff0000">overflowToDisk</span><span style="color: #0000ff">="false"</span><span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">&lt;!-- </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        配置自定义缓存</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        maxElementsInMemory：缓存中允许创建的最大对象数</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        eternal：缓存中对象是否为永久的，如果是，超时设置将被忽略，对象从不过期。</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        timeToIdleSeconds：缓存数据的钝化时间，也就是在一个元素消亡之前，</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">                    两次访问时间的最大时间间隔值，这只能在元素不是永久驻留时有效，</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">                    如果该值是 0 就意味着元素可以停顿无穷长的时间。</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        timeToLiveSeconds：缓存数据的生存时间，也就是一个元素从构建到消亡的最大时间间隔值，</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">                    这只能在元素不是永久驻留时有效，如果该值是0就意味着元素可以停顿无穷长的时间。</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        overflowToDisk：内存不足时，是否启用磁盘缓存。</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        memoryStoreEvictionPolicy：缓存满了之后的淘汰算法。</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"></span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">    --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">cache</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="SimplePageCachingFilter"</span> </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">maxElementsInMemory</span><span style="color: #0000ff">="10000"</span> </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">eternal</span><span style="color: #0000ff">="false"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">overflowToDisk</span><span style="color: #0000ff">="false"</span> </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">timeToIdleSeconds</span><span style="color: #0000ff">="900"</span> </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">timeToLiveSeconds</span><span style="color: #0000ff">="1800"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">memoryStoreEvictionPolicy</span><span style="color: #0000ff">="LFU"</span> <span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">ehcache</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--></div></div>
<p>具体代码：</p>
<div id="codeSnippetWrapper">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">package</span> com.hoo.ehcache.filter;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> java.util.Enumeration;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> javax.servlet.FilterChain;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> javax.servlet.http.HttpServletRequest;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> javax.servlet.http.HttpServletResponse;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.CacheException;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.constructs.blocking.LockTimeoutException;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.constructs.web.AlreadyCommittedException;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.constructs.web.AlreadyGzippedException;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.constructs.web.filter.FilterNonReentrantException;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.constructs.web.filter.SimplePageCachingFilter;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> org.apache.commons.lang.StringUtils;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> org.apache.log4j.Logger;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">/**</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * &lt;b&gt;function:&lt;/b&gt; mobile 页面缓存过滤器</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @author hoojo</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @createDate 2012-7-4 上午09:34:30</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @file PageEhCacheFilter.java</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @package com.hoo.ehcache.filter</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @project Ehcache</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @email hoojo_@126.com</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @version 1.0</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> */</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> PageEhCacheFilter <span style="color: #0000ff">extends</span> SimplePageCachingFilter {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> <span style="color: #0000ff">final</span> <span style="color: #0000ff">static</span> Logger log = Logger.getLogger(PageEhCacheFilter.<span style="color: #0000ff">class</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> <span style="color: #0000ff">final</span> <span style="color: #0000ff">static</span> String FILTER_URL_PATTERNS = <span style="color: #006080">"patterns"</span>;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> <span style="color: #0000ff">static</span> String[] cacheURLs;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> <span style="color: #0000ff">void</span> init() <span style="color: #0000ff">throws</span> CacheException {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        String patterns = filterConfig.getInitParameter(FILTER_URL_PATTERNS);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        cacheURLs = StringUtils.split(patterns, <span style="color: #006080">","</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    @Override</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">protected</span> <span style="color: #0000ff">void</span> doFilter(<span style="color: #0000ff">final</span> HttpServletRequest request,</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">final</span> HttpServletResponse response, <span style="color: #0000ff">final</span> FilterChain chain)</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">throws</span> AlreadyGzippedException, AlreadyCommittedException,</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            FilterNonReentrantException, LockTimeoutException, Exception {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">if</span> (cacheURLs == null) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            init();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        String url = request.getRequestURI();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">boolean</span> flag = false;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">if</span> (cacheURLs != null &amp;&amp; cacheURLs.length &gt; 0) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">for</span> (String cacheURL : cacheURLs) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                <span style="color: #0000ff">if</span> (url.contains(cacheURL.trim())) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                    flag = true;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                    <span style="color: #0000ff">break</span>;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #008000">// 如果包含我们要缓存的url 就缓存该页面，否则执行正常的页面转向</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">if</span> (flag) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            String query = request.getQueryString();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">if</span> (query != null) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                query = <span style="color: #006080">"?"</span> + query;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            log.info(<span style="color: #006080">"当前请求被缓存："</span> + url + query);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">super</span>.doFilter(request, response, chain);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        } <span style="color: #0000ff">else</span> {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            chain.doFilter(request, response);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    @SuppressWarnings(<span style="color: #006080">"unchecked"</span>)</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> <span style="color: #0000ff">boolean</span> headerContains(<span style="color: #0000ff">final</span> HttpServletRequest request, <span style="color: #0000ff">final</span> String header, <span style="color: #0000ff">final</span> String value) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        logRequestHeaders(request);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">final</span> Enumeration accepted = request.getHeaders(header);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">while</span> (accepted.hasMoreElements()) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">final</span> String headerValue = (String) accepted.nextElement();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">if</span> (headerValue.indexOf(value) != -1) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                <span style="color: #0000ff">return</span> true;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">return</span> false;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">/**</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @see net.sf.ehcache.constructs.web.filter.Filter#acceptsGzipEncoding(javax.servlet.http.HttpServletRequest)</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * &lt;b&gt;function:&lt;/b&gt; 兼容ie6/7 gzip压缩</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @author hoojo</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @createDate 2012-7-4 上午11:07:11</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     */</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    @Override</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">protected</span> <span style="color: #0000ff">boolean</span> acceptsGzipEncoding(HttpServletRequest request) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">boolean</span> ie6 = headerContains(request, <span style="color: #006080">"User-Agent"</span>, <span style="color: #006080">"MSIE 6.0"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">boolean</span> ie7 = headerContains(request, <span style="color: #006080">"User-Agent"</span>, <span style="color: #006080">"MSIE 7.0"</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">return</span> acceptsEncoding(request, <span style="color: #006080">"gzip"</span>) || ie6 || ie7;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">}</pre><!--CRLF--></div></div>
<blockquote>
<p>这里的PageEhCacheFilter继承了SimplePageCachingFilter，一般情况下
SimplePageCachingFilter就够用了，这里是为了满足当前系统需求才做了覆盖操作。使用
SimplePageCachingFilter需要在web.xml中配置cacheName，cacheName默认是
SimplePageCachingFilter，对应ehcache.xml中的cache配置。</p></blockquote>
<p>在web.xml中加入如下配置</p>
<div id="codeSnippetWrapper">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">&lt;!-- 缓存、gzip压缩核心过滤器 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">filter</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">filter-name</span><span style="color: #0000ff">&gt;</span>PageEhCacheFilter<span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter-name</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">filter-class</span><span style="color: #0000ff">&gt;</span>com.hoo.ehcache.filter.PageEhCacheFilter<span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter-class</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">init-param</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">param-name</span><span style="color: #0000ff">&gt;</span>patterns<span style="color: #0000ff">&lt;/</span><span style="color: #800000">param-name</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #008000">&lt;!-- 配置你需要缓存的url --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">param-value</span><span style="color: #0000ff">&gt;</span>/cache.jsp, product.action, market.action <span style="color: #0000ff">&lt;/</span><span style="color: #800000">param-value</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">init-param</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">filter-mapping</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">filter-name</span><span style="color: #0000ff">&gt;</span>PageEhCacheFilter<span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter-name</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">url-pattern</span><span style="color: #0000ff">&gt;</span>*.action<span style="color: #0000ff">&lt;/</span><span style="color: #800000">url-pattern</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter-mapping</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">filter-mapping</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">filter-name</span><span style="color: #0000ff">&gt;</span>PageEhCacheFilter<span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter-name</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">url-pattern</span><span style="color: #0000ff">&gt;</span>*.jsp<span style="color: #0000ff">&lt;/</span><span style="color: #800000">url-pattern</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">filter-mapping</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--></div></div>
<blockquote>
<p>当第一次请求这些页面后，这些页面就会被添加到缓存中，以后请求这些页面将会从缓存中获取。你可以在cache.jsp页面中用小脚本来测试该页面
是否被缓存。&lt;%=new Date()%&gt;如果时间是变动的，则表示该页面没有被缓存或是缓存已经过期，否则则是在缓存状态了。</p></blockquote>
<h4>&nbsp;</h4>
<h4>四、对象缓存</h4>
<blockquote>
<p>对象缓存就是将查询的数据，添加到缓存中，下次再次查询的时候直接从缓存中获取，而不去数据库中查询。</p>
<p>对象缓存一般是针对方法、类而来的，结合Spring的Aop对象、方法缓存就很简单。这里需要用到切面编程，用到了Spring的MethodInterceptor或是用@Aspect。</p></blockquote>
<p>代码如下：</p>
<div id="codeSnippetWrapper">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">package</span> com.hoo.common.ehcache;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> java.io.Serializable;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.Cache;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> net.sf.ehcache.Element;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> org.aopalliance.intercept.MethodInterceptor;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> org.aopalliance.intercept.MethodInvocation;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> org.apache.log4j.Logger;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">import</span> org.springframework.beans.factory.InitializingBean;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">/**</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * &lt;b&gt;function:&lt;/b&gt; 缓存方法拦截器核心代码 </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @author hoojo</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @createDate 2012-7-2 下午06:05:34</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @file MethodCacheInterceptor.java</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @package com.hoo.common.ehcache</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @project Ehcache</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @blog http://blog.csdn.net/IBM_hoojo</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @email hoojo_@126.com</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> * @version 1.0</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000"> */</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">public</span> <span style="color: #0000ff">class</span> MethodCacheInterceptor <span style="color: #0000ff">implements</span> MethodInterceptor, InitializingBean {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> <span style="color: #0000ff">static</span> <span style="color: #0000ff">final</span> Logger log = Logger.getLogger(MethodCacheInterceptor.<span style="color: #0000ff">class</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> Cache cache;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> setCache(Cache cache) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">this</span>.cache = cache;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">public</span> <span style="color: #0000ff">void</span> afterPropertiesSet() <span style="color: #0000ff">throws</span> Exception {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        log.info(cache + <span style="color: #006080">" A cache is required. Use setCache(Cache) to provide one."</span>);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">public</span> Object invoke(MethodInvocation invocation) <span style="color: #0000ff">throws</span> Throwable {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        String targetName = invocation.getThis().getClass().getName();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        String methodName = invocation.getMethod().getName();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        Object[] arguments = invocation.getArguments();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        Object result;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        String cacheKey = getCacheKey(targetName, methodName, arguments);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        Element element = null;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">synchronized</span> (<span style="color: #0000ff">this</span>) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            element = cache.get(cacheKey);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">if</span> (element == null) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                log.info(cacheKey + <span style="color: #006080">"加入到缓存： "</span> + cache.getName());</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                <span style="color: #008000">// 调用实际的方法</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                result = invocation.proceed();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                element = <span style="color: #0000ff">new</span> Element(cacheKey, (Serializable) result);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                cache.put(element);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            } <span style="color: #0000ff">else</span> {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                log.info(cacheKey + <span style="color: #006080">"使用缓存： "</span> + cache.getName());</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">return</span> element.getValue();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">/**</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * &lt;b&gt;function:&lt;/b&gt; 返回具体的方法全路径名称 参数</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @author hoojo</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @createDate 2012-7-2 下午06:12:39</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @param targetName 全路径</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @param methodName 方法名称</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @param arguments 参数</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     * @return 完整方法名称</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">     */</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">private</span> String getCacheKey(String targetName, String methodName, Object[] arguments) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        StringBuffer sb = <span style="color: #0000ff">new</span> StringBuffer();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        sb.append(targetName).append(<span style="color: #006080">"."</span>).append(methodName);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">if</span> ((arguments != null) &amp;&amp; (arguments.length != 0)) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">for</span> (<span style="color: #0000ff">int</span> i = 0; i &lt; arguments.length; i++) {</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">                sb.append(<span style="color: #006080">"."</span>).append(arguments[i]);</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">return</span> sb.toString();</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    }</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">}</pre><!--CRLF--></div></div>
<blockquote>
<p>这里的方法拦截器主要是对你要拦截的类的方法进行拦截，然后判断该方法的类路径+方法名称+参数值组合的cache 
key在缓存cache中是否存在。如果存在就从缓存中取出该对象，转换成我们要的返回类型。没有的话就把该方法返回的对象添加到缓存中即可。值得主意的
是当前方法的参数和返回值的对象类型需要序列化。</p>
<p>我们需要在src目录下添加applicationContext.xml完成对MethodCacheInterceptor拦截器的配置，该配置主意是注入我们的cache对象，哪个cache来管理对象缓存，然后哪些类、方法参与该拦截器的扫描。</p></blockquote>
<p>添加配置如下：</p>
<div id="codeSnippetWrapper">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">context:component-scan</span> <span style="color: #ff0000">base-package</span><span style="color: #0000ff">="com.hoo.common.interceptor"</span><span style="color: #0000ff">/&gt;</span> </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">&lt;!-- 配置eh缓存管理器 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span><span style="color: #0000ff">="cacheManager"</span> <span style="color: #ff0000">class</span><span style="color: #0000ff">="org.springframework.cache.ehcache.EhCacheManagerFactoryBean"</span><span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">&lt;!-- 配置一个简单的缓存工厂bean对象 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span><span style="color: #0000ff">="simpleCache"</span> <span style="color: #ff0000">class</span><span style="color: #0000ff">="org.springframework.cache.ehcache.EhCacheFactoryBean"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="cacheManager"</span> <span style="color: #ff0000">ref</span><span style="color: #0000ff">="cacheManager"</span> <span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">&lt;!-- 使用缓存 关联ehcache.xml中的缓存配置 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="cacheName"</span> <span style="color: #ff0000">value</span><span style="color: #0000ff">="mobileCache"</span> <span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">bean</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">&lt;!-- 配置一个缓存拦截器对象，处理具体的缓存业务 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span><span style="color: #0000ff">="methodCacheInterceptor"</span> <span style="color: #ff0000">class</span><span style="color: #0000ff">="com. hoo.common.interceptor.MethodCacheInterceptor"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="cache"</span> <span style="color: #ff0000">ref</span><span style="color: #0000ff">="simpleCache"</span><span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">bean</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">&nbsp;</pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">&lt;!-- 参与缓存的切入点对象 (切入点对象，确定何时何地调用拦截器) --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">bean</span> <span style="color: #ff0000">id</span><span style="color: #0000ff">="methodCachePointCut"</span> <span style="color: #ff0000">class</span><span style="color: #0000ff">="org.springframework.aop.support.RegexpMethodPointcutAdvisor"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">&lt;!-- 配置缓存aop切面 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="advice"</span> <span style="color: #ff0000">ref</span><span style="color: #0000ff">="methodCacheInterceptor"</span> <span style="color: #0000ff">/&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">&lt;!-- 配置哪些方法参与缓存策略 --&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">&lt;!--  </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        .表示符合任何单一字元                  </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        ###  +表示符合前一个字元一次或多次                  </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        ###  *表示符合前一个字元零次或多次                  </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">        ###  \Escape任何Regular expression使用到的符号                  </span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #008000">    --&gt;</span>                 </pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #008000">&lt;!-- .*表示前面的前缀(包括包名) 表示print方法--&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;</span><span style="color: #800000">property</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="patterns"</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">&lt;</span><span style="color: #800000">list</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">&lt;</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span>com.hoo.rest.*RestService*\.*get.*<span style="color: #0000ff">&lt;/</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">            <span style="color: #0000ff">&lt;</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span>com.hoo.rest.*RestService*\.*search.*<span style="color: #0000ff">&lt;/</span><span style="color: #800000">value</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #0000ff">&lt;/</span><span style="color: #800000">list</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">    <span style="color: #0000ff">&lt;/</span><span style="color: #800000">property</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;/</span><span style="color: #800000">bean</span><span style="color: #0000ff">&gt;</span></pre><!--CRLF--></div></div>
<p>在ehcache.xml中添加如下cache配置</p>
<div id="codeSnippetWrapper">
<div style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px" id="codeSnippet"><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px"><span style="color: #0000ff">&lt;</span><span style="color: #800000">cache</span> <span style="color: #ff0000">name</span><span style="color: #0000ff">="mobileCache"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">maxElementsInMemory</span><span style="color: #0000ff">="10000"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">eternal</span><span style="color: #0000ff">="false"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">overflowToDisk</span><span style="color: #0000ff">="true"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">timeToIdleSeconds</span><span style="color: #0000ff">="1800"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: #f4f4f4; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">timeToLiveSeconds</span><span style="color: #0000ff">="3600"</span></pre><!--CRLF--><pre style="border-bottom-style: none; text-align: left; padding-bottom: 0px; line-height: 12pt; border-right-style: none; background-color: white; margin: 0em; padding-left: 0px; width: 100%; padding-right: 0px; font-family: 'Courier New', courier, monospace; direction: ltr; border-top-style: none; color: black; font-size: 10pt; border-left-style: none; overflow: visible; padding-top: 0px">        <span style="color: #ff0000">memoryStoreEvictionPolicy</span><span style="color: #0000ff">="LFU"</span> <span style="color: #0000ff">/&gt;</span></pre><!--CRLF--></div></div></div><div id="MySignature"><div id="MySignature" class="post">
<p style="padding: 0 0 0 60px; background:transparent url('http://images.cnblogs.com/cnblogs_com/hoojo/276187/r_o_info.png') no-repeat scroll 1% 50%;">
作者：<a target="_blank" href="http://hoojo.cnblogs.com/">hoojo</a> <br>
出处：<a target="_blank" href="http://hoojo.cnblogs.com/">
</a></p>http://www.cnblogs.com/hoojo/archive/2012/07/12/2587556.html<a target="_blank" href="http://hoojo.cnblogs.com/">
</a> <br>
blog：<a target="_blank" href="http://blog.csdn.net/IBM_hoojo/">http://blog.csdn.net/IBM_hoojo</a><br>
本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接，否则保留追究法律责任的权利。
<p></p>
</div>
<br>


<a href="http://hoojo.cnblogs.com/">版权所有，转载请注明出处</a>
<a href="http://hoojo.cnblogs.com/">本文出自：
http://www.cnblogs.com/hoojo/archive/2012/07/12/2587556.html
</a><br>

<!-- 将以下这行代码放到准备放按钮的位置 --> 
<!-- ShareTo Button BEGIN -->
<a class="shareto_button" href="http://hoojo.cnblogs.com/"><img src="ehcache_files/lg-share-cn.gif" alt="分享道" style="border:0" height="21" width="125">版权所有，欢迎转载，转载请注明出处，谢谢</a>
<!-- ShareTo Button END -->

<!-- 然后将以下这段代码放到网页页尾 --> 
<!-- ShareTo Button BEGIN -->

<!-- ShareTo Button END -->
</div>
<script type="text/javascript">
var isLogined = false;
var cb_blogId = 74515;
var cb_entryId = 2587556;
var cb_blogApp = currentBlogApp;
var cb_blogUserGuid = "e55c12f3-74a3-df11-8eb9-001cf0cd104b";
var cb_entryCreatedDate = '2012/7/12 10:07:00';
var enableGoogleAd = true;
var googletag = googletag || {};
googletag.cmd = googletag.cmd || [];
</script>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="blog_post_info"><div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/hoojo/category/276244.html">JavaEE</a>, <a href="http://www.cnblogs.com/hoojo/category/276254.html">Others</a>, <a href="http://www.cnblogs.com/hoojo/category/276257.html">Spring</a>, <a href="http://www.cnblogs.com/hoojo/category/276269.html">FrameWork Integration</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/hoojo/tag/Spring/">Spring</a>, <a href="http://www.cnblogs.com/hoojo/tag/JavaEE/">JavaEE</a>, <a href="http://www.cnblogs.com/hoojo/tag/%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/">框架整合</a>, <a href="http://www.cnblogs.com/hoojo/tag/ehcache/">ehcache</a>, <a href="http://www.cnblogs.com/hoojo/tag/%E7%BC%93%E5%AD%98/">缓存</a></div>
<div id="green_channel">
绿色通道：
<a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(cb_entryId,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
<a id="green_channel_follow" onclick="c_follow();" href="javascript:void(0);">关注我</a>
<a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a><a id="green_channel_contact" href="http://space.cnblogs.com/msg/send/hoojo" target="_blank">与我联系</a>
<a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="ehcache_files/icon_weibo_24.png" alt=""></a>
</div>
<div id="digg_block">
<div id="author_profile">
<div id="author_profile_info" class="author_profile_info">
<a href="http://home.cnblogs.com/u/hoojo/" target="_blank"><img src="ehcache_files/u151517.jpg" class="author_avatar" alt=""></a>
<div id="author_profile_detail" class="author_profile_info">
<a href="http://home.cnblogs.com/u/hoojo/">hoojo</a><br>
<a href="http://home.cnblogs.com/u/hoojo/followees">关注 - 0</a><br>
<a href="http://home.cnblogs.com/u/hoojo/followers">粉丝 - 286</a>
</div>
</div>
<div class="clear"></div>
<div id="author_profile_honor"></div>
<div id="author_profile_follow">
<a href="javascript:void(0);" onclick="c_follow();return false;">+加关注</a>
</div>
</div>
<div id="div_digg">										
	<div class="diggit" onclick="votePost(cb_entryId,'Digg')"> 
		<span class="diggnum" id="digg_count">1</span>
	</div>
	<div class="buryit" onclick="votePost(cb_entryId,'Bury')"> 
		<span class="burynum" id="bury_count">0</span>
	</div>
	<div class="clear"></div>	
	<div class="diggword" id="digg_tips">
    (请您对文章做出评价)
    </div>	
</div>
</div></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/hoojo/archive/2012/06/25/2561576.html" class="p_n_p_prefix">« </a> 博主上一篇：<a href="http://www.cnblogs.com/hoojo/archive/2012/06/25/2561576.html" title="发布于2012-06-25 17:27">Smack 结合 Openfire服务器，建立IM通信，发送聊天消息</a><br><a href="http://www.cnblogs.com/hoojo/archive/2012/07/12/2587941.html" class="p_n_p_prefix">» </a> 博主下一篇：<a href="http://www.cnblogs.com/hoojo/archive/2012/07/12/2587941.html" title="发布于2012-07-12 13:26">在Spring、Hibernate中使用Ehcache缓存</a><br><a href="http://www.cnblogs.com/appleseeker/archive/2012/07/12/XNA_Game_Development_Play_MusicEffect_2.html" class="p_n_p_prefix">« </a> 首页上一篇：<a href="http://www.cnblogs.com/appleseeker/archive/2012/07/12/XNA_Game_Development_Play_MusicEffect_2.html">XNA游戏开发——播放音效(2)</a><br><a href="http://www.cnblogs.com/fsjohnhuang/archive/2012/07/12/2587658.html" class="p_n_p_prefix">» </a> 首页下一篇：<a href="http://www.cnblogs.com/fsjohnhuang/archive/2012/07/12/2587658.html">Asp.net管道模型（管线模型）之一发不可收拾</a><br></div>
</div>
<script type="text/javascript">
    //SyntaxHighlighter.config.strings.expandSource = '<span><img src="http://static.cnblogs.com/images/expand-code.gif" alt="" class="expand-code-icon"/>View Code</span>';
    $(function () {             
        fixPostBodyFormat();
        loadAdUnderPost();
        loadBlogSignature();
        LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
        GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate);        
        GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);        
    });
</script>
	<div class="postDesc">posted on <span id="post-date">2012-07-12 10:07</span> <a href="http://www.cnblogs.com/hoojo/">hoojo</a> 阅读(2979) 评论(<span id="post-comment-count">0</span>)  <a href="http://www.cnblogs.com/hoojo/admin/EditPosts.aspx?postid=2587556" rel="nofollow">编辑</a> <a href="#" onclick="AddToWz(2587556);return false;">收藏</a></div>
</div>
<img src="ehcache_files/2587556.jpeg" alt="" height="1" width="1">

<div id="blog-comments-placeholder"></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.loadComments();</script>
<div id="comment_form" class="commentform">
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" id="lnk_RefreshComments" onclick="return RefreshCommentList();">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
<div id="comment_form_container"><div class="login_tips">注册用户登录后才能发表评论，请 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return login('commentform');">登录</a> 或 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return register();">注册</a>，<a href="http://www.cnblogs.com/">访问</a>网站首页。</div></div>

<script type="text/javascript">
    if (typeof commentManager === 'undefined') {
        commentManager = new blogCommentManager();
    }
    commentManager.loadCommentForm();   
</script>

<div class="ad_text_commentbox" id="ad_text_under_commentbox"><a href="http://zt.cnblogs.com/ie10/" target="_blank"><b>IE10：全面支持HTML5，让你创造更多</b></a><br><a href="http://job.cnblogs.com/" target="_blank"><b>找优秀程序员，就在博客园</b></a><br></div>
<div id="site_nav_under"><a href="http://www.cnblogs.com/" target="_blank" title="程序员的网上家园">博客园首页</a><a href="http://q.cnblogs.com/" target="_blank" title="程序员问答社区">博问</a><a href="http://news.cnblogs.com/" target="_blank" title="IT新闻">新闻</a><a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a><a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a><a href="http://kb.cnblogs.com/" target="_blank">知识库</a></div>
<div id="ad_under_post_holder">
<div id="google_ad_c1" class="c_ad_block">
    <!-- cnblogs_blogpost_C1_sitehome -->
    <div id="div-gpt-ad-1346480159711-0" style="width: 300px; height: 250px;">
    
    <iframe style="border: 0px none;" marginheight="0" marginwidth="0" name="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0" id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0" frameborder="0" height="250" scrolling="no" width="300"></iframe><iframe style="border: 0px none; visibility: hidden; display: none;" marginheight="0" marginwidth="0" name="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__hidden__" id="google_ads_iframe_/1090369/cnblogs_blogpost_C1_sitehome_0__hidden__" frameborder="0" height="0" scrolling="no" width="0"></iframe></div>
</div>
<div id="blog_news_kb"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="http://news.cnblogs.com/n/168316/" target="_blank">扎克伯格成2012年最慷慨富豪</a><br> ·  <a href="http://news.cnblogs.com/n/168315/" target="_blank">美国不好混：华为、中兴被起诉专利侵权</a><br> ·  <a href="http://news.cnblogs.com/n/168314/" target="_blank">AMD修正驱动解决频速暴降问题</a><br> ·  <a href="http://news.cnblogs.com/n/168313/" target="_blank">Ubuntu 手机是怎么一回事？</a><br> ·  <a href="http://news.cnblogs.com/n/168312/" target="_blank">eBay试验新C2C销售：上门取货开代售商店</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/168306/" target="_blank">业余数学牛人的数学自学心得</a><br> ·  <a href="http://kb.cnblogs.com/page/168183/" target="_blank">10步让你成为更优秀的程序员</a><br> ·  <a href="http://kb.cnblogs.com/page/167474/" target="_blank">Javascript 异步编程的4种方法</a><br> ·  <a href="http://kb.cnblogs.com/page/168158/" target="_blank">大多数人都生活在缺省状态中</a><br> ·  <a href="http://kb.cnblogs.com/page/168157/" target="_blank">H.264简介</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="google_ad_c2" class="c_ad_block">
    <!-- cnblogs_blogpost_C2_sitehome -->
    <div id="div-gpt-ad-1346479110744-1" style="width: 468px; height: 60px;">
    
    <iframe style="border: 0px none;" marginheight="0" marginwidth="0" name="google_ads_iframe_/1090369/cnblogs_blogpost_C2_sitehome_0" id="google_ads_iframe_/1090369/cnblogs_blogpost_C2_sitehome_0" frameborder="0" height="60" scrolling="no" width="468"></iframe></div>
</div></div>
<div id="HistoryToday" class="c_ad_block"></div>
</div>





</div>
<div id="leftcontent">
	
		<div id="leftcontentcontainer">
			
<!--done-->
<div class="newsItem">
	<div id="blog-news"><h3 class="catListTitle">About Me</h3>
<div class="post" style="padding: 5px;">
<center>
<img src="ehcache_files/a151517.jpg"></center><br>
网名：hoojo<br>
E-mail：<a href="mailto:hoojo_@126.com">hoojo_@126.com</a><br>
专注于Java，现从事电子商务/手机物联网应用开发，擅长JavaEE、Flex、ActionScript及Web前端HTML、CSS、JavaScript、ExtJS、jQuery、Mootools等开发。对常用开源框架有一定的认识和见解。
</div>

<br>
<h3 class="catListTitle">版权声明</h3>
<div class="post" style="padding: 5px;color:red;">
hoojo 所有文章遵循<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/"> 创作共用版权协议</a>，要求<b style="color:black;">署名、非商业、保持一致</b>。在满足<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/">创作共用版权协议</a>的基础上可以转载，但请以超链接形式注明出处。 
</div>

<br>
<h3 class="catListTitle">访客统计</h3>
<a href="http://www.cnzz.com/stat/website.php?web_id=4324368" target="_blank" title="站长统计"><img src="ehcache_files/pic.gif" border="0" hspace="0" vspace="0"></a>

<div style="display: block;" id="clicki_widget_3964" class="post"><div class="Clicki_container"><div class="Clicki_button_box"><ul><li id="btn_clicki_widget_3964" title="undefined"><a href="#" onclick="return false;">undefined</a></li></ul></div><div class="Clicki_window_outterbox"><div class="Clicki_window_box"><div style="height: 100%;"><iframe border="0" allowtransparency="true" frameborder="no" height="100%" width="100%"></iframe></div></div><div class="Clicki_copy">Powered By <a target="_blank" href="http://www.clicki.cn/">Clicki.cn</a></div></div></div></div>

<br>
<h3 class="catListTitle">订阅统计</h3>
<!-- Feedsky FEED 订阅统计发布代码开始 -->
<a href="http://feed.feedsky.com/hoojo" title="订阅我的博客"><img src="ehcache_files/orange.gif" style="border:0" alt="订阅我的博客"></a>
<!-- http://img.feedsky.com/feed/hoojo/sc/gif -->
<!-- Feedsky FEED 订阅统计发布代码结束 -->

<br>
<h3 class="catListTitle">订阅文章</h3>
<div>
<!-- Feedsky FEED发布代码开始 -->
<!-- FEED自动发现标记开始 -->
<link title="RSS 2.0" type="application/rss+xml" href="http://feed.feedsky.com/hoojo" rel="alternate">
<!-- FEED自动发现标记结束 -->
<a href="http://www.zhuaxia.com/add_channel.php?url=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_zhuaxia.gif" alt="抓虾" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://fusion.google.com/add?feedurl=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_google.gif" alt="google reader" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://www.netvibes.com/subscribe.php?url=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_netvibes.gif" alt="netvibes" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://add.my.yahoo.com/rss?url=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_yahoo.gif" alt="my yahoo" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://www.bloglines.com/sub/http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_bloglines.gif" alt="bloglines" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://www.xianguo.com/subscribe.php?url=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_xianguo.gif" alt="鲜果" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://inezha.com/add?url=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_nazha.gif" alt="哪吒" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://reader.youdao.com/b.do?keyfrom=feedsky&amp;url=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_youdao.gif" alt="有道" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<a href="http://mail.qq.com/cgi-bin/feed?u=http://feed.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_subshot01_qq.gif" alt="QQ邮箱" style="margin-bottom:3px" border="0" vspace="2"></a><br>
<!-- Feedsky FEED发布代码结束 -->
</div>

<!-- Feedsky FEED发布代码开始 -->
<!-- FEED自动发现标记开始 -->
<link title="RSS 2.0" type="application/rss+xml" href="http://feed.feedsky.com/hoojo" rel="alternate">
<!-- FEED自动发现标记结束 -->
<a href="http://wap.feedsky.com/hoojo" target="_blank"><img src="ehcache_files/icon_sub_mobile_c1s1.gif" alt="订阅内容到手机" border="0" vspace="2"></a>
<!-- Feedsky FEED发布代码结束 -->

<br>
<h3 class="catListTitle">订阅历史</h3>
<!-- Feedsky FEED Flash发布代码开始 -->
<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" id="feedstatview" align="middle" height="90" width="200">
<param name="allowScriptAccess" value="sameDomain">
<param name="movie" value="http://www.feedsky.com/flash/feedstatview.swf?burl=hoojo&amp;bar=5">
<param name="quality" value="high">
<param value="transparent" name="wmode">
<embed src="ehcache_files/feedstatview.swf" quality="high" wmode="transparent" name="feedstatview" allowscriptaccess="sameDomain" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" align="middle" height="90" width="200">
</object>
<!-- Feedsky FEED Flash发布代码结束 -->

<br>
<h3 class="catListTitle">
<a href="http://news.cnblogs.com/">IT 新闻</a></h3>
<!-- 博客园新闻频道引用代码 num-显示条数 -->
<div style="display: none" id="__document_write_ajax_div-19"></div>     
<br><div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/hoojo/">hoojo</a><br>园龄：<a href="http://home.cnblogs.com/u/hoojo/" title="入园时间：2010-08-09">2年4个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/hoojo/followers/">286</a><br>关注：<a href="http://home.cnblogs.com/u/hoojo/followees/">0</a><div id="p_b_follow"><a href="javascript:void(0);" onclick="cnblogs.UserManager.FollowBlogger('e55c12f3-74a3-df11-8eb9-001cf0cd104b')">+加关注</a></div></div></div>
</div>

			<div id="blog-calendar-block" style=""><div id="blog-calendar"><table id="blogCalendar" class="Cal" title="Calendar" cellpadding="0" cellspacing="0">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar('2012/06/01');return false;">&lt;</a></td><td align="center">2012年7月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar('2012/08/01');return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" abbr="日" scope="col" align="center">日</th><th class="CalDayHeader" abbr="一" scope="col" align="center">一</th><th class="CalDayHeader" abbr="二" scope="col" align="center">二</th><th class="CalDayHeader" abbr="三" scope="col" align="center">三</th><th class="CalDayHeader" abbr="四" scope="col" align="center">四</th><th class="CalDayHeader" abbr="五" scope="col" align="center">五</th><th class="CalDayHeader" abbr="六" scope="col" align="center">六</th></tr><tr><td class="CalOtherMonthDay" align="center">24</td><td class="CalOtherMonthDay" align="center">25</td><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td></tr><tr><td class="CalWeekendDay" align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center">6</td><td class="CalWeekendDay" align="center">7</td></tr><tr><td class="CalWeekendDay" align="center">8</td><td align="center">9</td><td align="center">10</td><td align="center">11</td><td align="center"><a href="http://www.cnblogs.com/hoojo/archive/2012/07/12.html"><u>12</u></a></td><td align="center"><a href="http://www.cnblogs.com/hoojo/archive/2012/07/13.html"><u>13</u></a></td><td class="CalWeekendDay" align="center">14</td></tr><tr><td class="CalWeekendDay" align="center">15</td><td align="center">16</td><td align="center">17</td><td align="center">18</td><td align="center"><a href="http://www.cnblogs.com/hoojo/archive/2012/07/19.html"><u>19</u></a></td><td align="center">20</td><td class="CalWeekendDay" align="center">21</td></tr><tr><td class="CalWeekendDay" align="center">22</td><td align="center"><a href="http://www.cnblogs.com/hoojo/archive/2012/07/23.html"><u>23</u></a></td><td align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td class="CalWeekendDay" align="center">28</td></tr><tr><td class="CalWeekendDay" align="center">29</td><td align="center">30</td><td align="center"><a href="http://www.cnblogs.com/hoojo/archive/2012/07/31.html"><u>31</u></a></td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td></tr>
</tbody></table></div>
</div><br>
			<div id="blog-sidecolumn">

<div class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="widget_my_zzk" class="div_my_zzk"><input id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk" type="text">&nbsp;<input onclick="zzk_go()" value="找找看" id="btnZzk" class="btn_my_zzk" type="button"></div>
<div id="widget_my_google" class="div_my_zzk"><input name="google_q" id="google_q" onkeydown="return google_go_enter(event)" class="input_my_zzk" type="text">&nbsp;<input onclick="google_go()" value="谷歌搜索" class="btn_my_zzk" type="button"></div>
</div>


<h3 class="catListTitle">常用链接</h3>
<ul>

		<li><a id="ctl01_rptMainLinks_lnkLinkItem_0" href="http://www.cnblogs.com/hoojo/MyPosts.html">我的随笔</a></li>
	
		<li><a id="ctl01_rptMainLinks_lnkLinkItem_1" href="http://www.cnblogs.com/hoojo/MyComments.html">我的评论</a></li>
	
		<li><a id="ctl01_rptMainLinks_lnkLinkItem_2" title="我发表过评论的随笔" href="http://www.cnblogs.com/hoojo/OtherPosts.html">我的参与</a></li>
	
		<li><a id="ctl01_rptMainLinks_lnkLinkItem_3" href="http://www.cnblogs.com/hoojo/RecentComments.html">最新评论</a></li>
	
		<li><a id="ctl01_rptMainLinks_lnkLinkItem_4" href="http://www.cnblogs.com/hoojo/tag/">我的标签</a></li>
	
</ul>
<div id="itemListLin_con" style="display:none;">

</div>
<h3 class="catListTitle">最新随笔</h3>
<div class="RecentComment" id="RecentPosts">
<ul style="word-break:break-all">
<li><a href="http://www.cnblogs.com/hoojo/archive/2012/10/31/2747838.html">1. 谈谈个人关于程序开发中，“零配置”和“有配置”的看法</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/09/06/2672891.html">2. Lucene 基础理论</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/09/05/2671678.html">3. Lucene 简单手记</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/31/2665583.html">4. Oracle 死锁的检测查询及处理</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/31/2665396.html">5. 处理 Oracle SQL in 超过1000 的解决方案</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html">6. JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/01/2617857.html">7. Apache MiNa 实现多人聊天室</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/07/31/2616896.html">8. 移动应用（手机应用）开发IM聊天程序解决方案</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/07/23/2605219.html">9. Spring整合CXF，发布RSETful 风格WebService</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/07/19/2599534.html">10. EhCache 分布式缓存/缓存集群</a></li>
</ul>
</div>

<h3 class="catListTitle">我的标签</h3>
<div id="MyTag">
<ul>
<li><a href="http://www.cnblogs.com/hoojo/tag/JavaEE/">JavaEE</a>(35)</li><li><a href="http://www.cnblogs.com/hoojo/tag/DataBase/">DataBase</a>(31)</li><li><a href="http://www.cnblogs.com/hoojo/tag/JavaSE/">JavaSE</a>(20)</li><li><a href="http://www.cnblogs.com/hoojo/tag/Oracle/">Oracle</a>(17)</li><li><a href="http://www.cnblogs.com/hoojo/tag/WebService/">WebService</a>(16)</li><li><a href="http://www.cnblogs.com/hoojo/tag/%E6%A1%86%E6%9E%B6%E6%95%B4%E5%90%88/">框架整合</a>(15)</li><li><a href="http://www.cnblogs.com/hoojo/tag/Spring/">Spring</a>(14)</li><li><a href="http://www.cnblogs.com/hoojo/tag/%E7%AC%94%E8%AE%B0/">笔记</a>(11)</li><li><a href="http://www.cnblogs.com/hoojo/tag/Axis2%20WebService/">Axis2 WebService</a>(11)</li><li><a href="http://www.cnblogs.com/hoojo/tag/XML/">XML</a>(9)</li><li><a href="http://www.cnblogs.com/hoojo/tag/">更多</a></li>
</ul>
</div>
		<h3 class="catListTitle">随笔分类<span style="font-size:11px;font-weight:normal">(358)</span></h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_0" class="listitem" href="http://www.cnblogs.com/hoojo/category/276233.html">Ajax【富客户端技术】(13)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_1" class="listitem" href="http://www.cnblogs.com/hoojo/category/276234.html">DataBase(18)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_2" class="listitem" href="http://www.cnblogs.com/hoojo/category/276270.html">Design Pattern(1)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_3" class="listitem" href="http://www.cnblogs.com/hoojo/category/276235.html">DWR(1)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_4" class="listitem" href="http://www.cnblogs.com/hoojo/category/276236.html">ExtJS(6)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_5" class="listitem" href="http://www.cnblogs.com/hoojo/category/276237.html">Flex/ActionScript(3)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_6" class="listitem" href="http://www.cnblogs.com/hoojo/category/276269.html">FrameWork Integration(19)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_7" class="listitem" href="http://www.cnblogs.com/hoojo/category/276238.html">GXT</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_8" class="listitem" href="http://www.cnblogs.com/hoojo/category/276239.html">Hibernate(3)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_9" class="listitem" href="http://www.cnblogs.com/hoojo/category/276240.html">HTML/CSS(10)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_10" class="listitem" href="http://www.cnblogs.com/hoojo/category/276241.html">IDE/Utils(2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_11" class="listitem" href="http://www.cnblogs.com/hoojo/category/276243.html">IT WorkPlace【IT职场】</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_12" class="listitem" href="http://www.cnblogs.com/hoojo/category/276244.html">JavaEE(63)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_13" class="listitem" href="http://www.cnblogs.com/hoojo/category/276245.html">JavaME(1)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_14" class="listitem" href="http://www.cnblogs.com/hoojo/category/276246.html">JavaScript(9)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_15" class="listitem" href="http://www.cnblogs.com/hoojo/category/276247.html">JavaSE(26)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_16" class="listitem" href="http://www.cnblogs.com/hoojo/category/276248.html">JDBC(2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_17" class="listitem" href="http://www.cnblogs.com/hoojo/category/276249.html">jQuery(6)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_18" class="listitem" href="http://www.cnblogs.com/hoojo/category/295538.html">JSON&amp;XML(15)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_19" class="listitem" href="http://www.cnblogs.com/hoojo/category/276250.html">Jsp/Servlet(5)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_20" class="listitem" href="http://www.cnblogs.com/hoojo/category/411091.html">Lucene/Compass/Solr(2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_21" class="listitem" href="http://www.cnblogs.com/hoojo/category/276251.html">Ms SQL Server(10)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_22" class="listitem" href="http://www.cnblogs.com/hoojo/category/294148.html">MyBatis(6)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_23" class="listitem" href="http://www.cnblogs.com/hoojo/category/305964.html">MySQL(3)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_24" class="listitem" href="http://www.cnblogs.com/hoojo/category/380029.html">Openfire/XMPP(9)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_25" class="listitem" href="http://www.cnblogs.com/hoojo/category/276252.html">Oracle(17)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_26" class="listitem" href="http://www.cnblogs.com/hoojo/category/276254.html">Others(21)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_27" class="listitem" href="http://www.cnblogs.com/hoojo/category/276255.html">RCP【富客户端技术】(13)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_28" class="listitem" href="http://www.cnblogs.com/hoojo/category/276256.html">RIA 【富互联网程序】(11)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_29" class="listitem" href="http://www.cnblogs.com/hoojo/category/276271.html">SE FTS(3)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_30" class="listitem" href="http://www.cnblogs.com/hoojo/category/276257.html">Spring(14)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_31" class="listitem" href="http://www.cnblogs.com/hoojo/category/276258.html">Struts(2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_32" class="listitem" href="http://www.cnblogs.com/hoojo/category/276259.html">Struts2.x(6)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_33" class="listitem" href="http://www.cnblogs.com/hoojo/category/276011.html">WebService(36)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_34" class="listitem" href="http://www.cnblogs.com/hoojo/category/276261.html">XmlHttpRequest(2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_35" class="listitem" href="http://www.cnblogs.com/hoojo/category/271627.html">业界动态</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_0_Link_36" class="listitem" href="http://www.cnblogs.com/hoojo/category/276272.html">娱乐人生</a></li>
			
				</ul>
			
	
		<h3 class="catListTitle">随笔档案<span style="font-size:11px;font-weight:normal">(131)</span></h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_0" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/10.html">2012年10月 (1)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_1" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/09.html">2012年9月 (2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_2" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/08.html">2012年8月 (4)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_3" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/07.html">2012年7月 (7)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_4" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/06.html">2012年6月 (3)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_5" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/05.html">2012年5月 (4)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_6" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/03.html">2012年3月 (1)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_7" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/02.html">2012年2月 (6)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_8" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2012/01.html">2012年1月 (4)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_9" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/10.html">2011年10月 (2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_10" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/09.html">2011年9月 (4)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_11" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/08.html">2011年8月 (2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_12" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/07.html">2011年7月 (10)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_13" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/06.html">2011年6月 (8)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_14" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/05.html">2011年5月 (24)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_15" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/04.html">2011年4月 (12)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_16" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/03.html">2011年3月 (19)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_17" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2011/01.html">2011年1月 (2)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_1_Link_18" class="listitem" href="http://www.cnblogs.com/hoojo/archive/2010/12.html">2010年12月 (16)</a></li>
			
				</ul>
			
	
		<h3 class="catListTitle">文章档案<span style="font-size:11px;font-weight:normal">(3)</span></h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_2_Link_0" class="listitem" rel="nofollow" href="http://www.cnblogs.com/hoojo/archives/2010/12.html">2010年12月 (1)</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_2_Link_1" class="listitem" rel="nofollow" href="http://www.cnblogs.com/hoojo/archives/2010/11.html">2010年11月 (2)</a></li>
			
				</ul>
			
	
		<h3 class="catListTitle">相册</h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_3_Link_0" class="listitem" rel="nofollow" href="http://www.cnblogs.com/hoojo/gallery/276187.html">博文图库</a></li>
			
				</ul>
			
	
		<h3 class="catListTitle">关注博客</h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_4_Link_0" class="listitem" rel="nofollow" href="http://blog.csdn.net/WinGeek" target="_blank">WinGeek[Web前端工程师] </a></li>
			
				</ul>
			
	
		<h3 class="catListTitle">我的链接</h3>
		
				<ul class="catList">
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_5_Link_0" class="listitem" rel="nofollow" href="http://js1k.com/" target="_blank">1K JS</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_5_Link_1" class="listitem" rel="nofollow" href="http://www.infoq.com/cn" target="_blank">InfoQ</a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_5_Link_2" class="listitem" rel="nofollow" href="http://blog.csdn.net/IBM_hoojo" target="_blank">My CSDN Blog</a><a id="ctl04_CatList_LinkList_5_RssLink_2" class="listitem" href="#" onclick="return open_link('http://feeds.feedsky.com/csdn.net/IBM_hoojo');"><img src="ehcache_files/xml_002.gif" alt=""></a></li>
			
				<li class="catListItem"> <a id="ctl04_CatList_LinkList_5_Link_3" class="listitem" rel="nofollow" href="http://hoojo.blogjava.net/" target="_blank">我的BlogJava</a><a id="ctl04_CatList_LinkList_5_RssLink_3" class="listitem" href="#" onclick="return open_link('http://feed.feedsky.com/BlogJava_hoojo');"><img src="ehcache_files/xml_002.gif" alt=""></a></li>
			
				</ul>
			
	

<h3>积分与排名</h3>
<ul>
	<li>
		积分 -
		144687
	</li><li>
		排名 -
		704
	</li>
</ul>

<h3 class="catListTitle">最新评论</h3>
<div class="RecentComment" id="RecentComments">
	<div id="RecentCommentsBlock"><ul>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/03/29/1998909.html#2591350">1. Re:二、CXF 入门示例</a></li>
    <li class="recent_comment_body">刚在本地测试了，完全是跟cxf包的版本有关。</li>
    <li class="recent_comment_author">--鼠标CHH</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/03/29/1998909.html#2591327">2. Re:二、CXF 入门示例</a></li>
    <li class="recent_comment_body">求助！</li>
    <li class="recent_comment_author">--鼠标CHH</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/03/29/1998909.html#2591325">3. Re:二、CXF 入门示例</a></li>
    <li class="recent_comment_body">Exception in thread "main" 
org.apache.cxf.bus.extension.ExtensionException: Could not load 
extension class org.apache.cxf.ws.policy.AssertionBuilderRegistryImpl. 
at org.apache.cxf.bus.extension.Exte...</li>
    <li class="recent_comment_author">--鼠标CHH</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html#2590877">4. Re:【MongoDB for Java】Java操作MongoDB</a></li>
    <li class="recent_comment_body">testOthers() 方法，junit测试是错的。。。博主。。。</li>
    <li class="recent_comment_author">--岑逸</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html#2586798">5. Re:JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序</a></li>
    <li class="recent_comment_body">@s似水流年之前弄过一下，没有成功。看过jwchat的源代码，不知道为什
么没有成功，但jwchat是可以知道好用的在线状态的。presence = new 
JSJaCPresence();presence.setStatus(status); // 
onlinepresence.setPriority(priority); // 1presence.setShow(show); // 
chatco...</li>
    <li class="recent_comment_author">--hoojo</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html#2586791">6. Re:JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序</a></li>
    <li class="recent_comment_body"><a href="#2575887" title="查看所回复的评论">@</a>s似水流年<br>可以用jquery的插件版jquery.xmpp.js这个感觉更好用些。但是很多东西还需要自己扩展。</li>
    <li class="recent_comment_author">--hoojo</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/05/17/2506769.html#2586789">7. Re:Openfire 的安装和配置</a></li>
    <li class="recent_comment_body"><a href="#2577867" title="查看所回复的评论">@</a>commonslok<br>设置成域名就可以了</li>
    <li class="recent_comment_author">--hoojo</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110862.html#2581236">8. Re:SQL Server 存储过程</a></li>
    <li class="recent_comment_body">没看懂</li>
    <li class="recent_comment_author">--大丰刘庄</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/05/17/2506845.html#2580103">9. Re:Jwchat 的安装和配置、Service unavailable、Authorization failed问题汇总</a></li>
    <li class="recent_comment_body">尝试中～～</li>
    <li class="recent_comment_author">--编程记录</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/05/13/2498151.html#2579250">10. Re:Operfire 安装指南</a></li>
    <li class="recent_comment_body">谢谢分享</li>
    <li class="recent_comment_author">--编程记录</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/05/17/2506845.html#2579245">11. Re:Jwchat 的安装和配置、Service unavailable、Authorization failed问题汇总</a></li>
    <li class="recent_comment_body">谢谢分享</li>
    <li class="recent_comment_author">--编程记录</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/05/17/2506769.html#2577867">12. Re:Openfire 的安装和配置</a></li>
    <li class="recent_comment_body">怎么配置外网IP呢。求教啊楼主。</li>
    <li class="recent_comment_author">--commonslok</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/05/17/2506845.html#2577789">13. Re:Jwchat 的安装和配置、Service unavailable、Authorization failed问题汇总</a></li>
    <li class="recent_comment_body">怎么设置IP啊，如果我的openfire要对外网呢？怎么设置。求教。</li>
    <li class="recent_comment_author">--commonslok</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html#2575887">14. Re:JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序</a></li>
    <li class="recent_comment_body">js插件推荐用strophe，语法比jsjac简洁些，并且有strophe.flxhr.js可以用flash方案flXHR.js解决跨域问题，不必在当前网站做反向代理，直接与IM服务器通信也更加高效。</li>
    <li class="recent_comment_author">--s似水流年</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html#2575881">15. Re:JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序</a></li>
    <li class="recent_comment_body">还有问题就是，用cookie保存的连接只能被恢复一次，，因为它保存的是
jid、sid、rid三者，connect在没有suspend的时候总是与服务器保持通信的，如果rid改变的话，即使cookie中的jid（用户
名）和sid（session 
id）是正确的，也不能恢复。所以jsjac每次resume都会把cookie清掉。另外cookie的expires设置也有问题，网站的会话结束
（关闭浏览器窗...</li>
    <li class="recent_comment_author">--s似水流年</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html#2575872">16. Re:JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序</a></li>
    <li class="recent_comment_body">楼主，有没有办法主动向服务器查询某个好友的在线状态？现在的做法都是在登录
时，发送一个presence给服务器，而服务器也会发送好友的presence，但是如果用jsjac的suspend方法，使用
jsjacCookie来保存一条连接的话，在resume的时候服务器就不会再发送好友的出席状态了。（这么做是因为把im服务器的连接过程放到网站的
登录界面里，然后跳转到别的页面比如产品详情页，在别的页面聊天...</li>
    <li class="recent_comment_author">--s似水流年</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html#2570615">17. Re:【MongoDB for Java】Java操作MongoDB</a></li>
    <li class="recent_comment_body">不错，谢谢分享，学习了。</li>
    <li class="recent_comment_author">--cayden</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110862.html#2566159">18. Re:SQL Server 存储过程</a></li>
    <li class="recent_comment_body">请问下 那个row_number分页的存储过程是不是效率不太好？</li>
    <li class="recent_comment_author">--记住你的梦想和目标</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html#2566150">19. Re:【MongoDB for Java】Java操作MongoDB</a></li>
    <li class="recent_comment_body">org.junit 为什么没有啊。我是mongodb 2.10的</li>
    <li class="recent_comment_author">--jerryfive</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html#2563609">20. Re:【MongoDB for Java】Java操作MongoDB</a></li>
    <li class="recent_comment_body">很好，很实用</li>
    <li class="recent_comment_author">--日子依旧</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/07/16/2108129.html#2560929">21. Re:SQL Server T-SQL高级查询</a></li>
    <li class="recent_comment_body">select * from student where name like '%[^ja,as,on]%';select * from student where name like '%[ja_on]%';<br>能问一下这两句是什么意思吗？</li>
    <li class="recent_comment_author">--我欲随风</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110862.html#2556479">22. Re:SQL Server 存储过程</a></li>
    <li class="recent_comment_body">谢谢！</li>
    <li class="recent_comment_author">--雨中峰</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/01/07/1929577.html#2556000">23. Re:Struts2、Spring、Hibernate整合ExtJS</a></li>
    <li class="recent_comment_body">你好 能给发一份源码吗？？非常感谢 正在学习当中。。。wang_bemo@163.com</li>
    <li class="recent_comment_author">--恶魔之子</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/03/15/1985165.html#2531458">24. Re:一、Axis2 WebService开发准备工作</a></li>
    <li class="recent_comment_body">很喜欢博主的文章，刚刚用豆约翰博客备份专家备份了您的全部博文。</li>
    <li class="recent_comment_author">--ycty</li>
    <li class="recent_comment_title"><a href="http://www.cnblogs.com/hoojo/archive/2011/04/19/2020551.html#2525613">25. Re:FreeMarker整合Spring 3</a></li>
    <li class="recent_comment_body">求源码，请你查看邮箱，我发的求源码的邮件，太谢谢了</li>
    <li class="recent_comment_author">--我的职业之旅—做好自己</li>
</ul>
</div>
</div>

<h3 class="catListTitle">阅读排行榜</h3>
<div class="RecentComment" id="TopViewPosts"> 
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110862.html">1. SQL Server 存储过程(33813)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/20/2111316.html">2. SQL Server 触发器(33617)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/21/2023805.html">3. JSON-lib框架，转换JSON、XML不再困难(26003)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/22/2025197.html">4. xStream完美转换XML、JSON(23636)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/30/1999563.html">5. 五、CXF WebService整合Spring(21060)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/22/2024628.html">6. Jackson 框架，轻易转换JSON(18260)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html">7. 【MongoDB for Java】Java操作MongoDB(17491)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html">8. MyBatis3整合Spring3、SpringMVC3(9475)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/01/07/1929577.html">9. Struts2、Spring、Hibernate整合ExtJS(8872)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/01/2066426.html">10. mongoDB 入门指南、示例(8354)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/02/16/2354663.html">11. jQuery 获取屏幕高度、宽度(8043)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/30/1999523.html">12. 四、CXF WebService中传递复杂类型对象(6854)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/05/17/2506769.html">13. Openfire 的安装和配置(6500)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2010/12/20/1911349.html">14. Axis1.x WebService开发指南—目录索引(6405)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/19/2020551.html">15. FreeMarker整合Spring 3(6388)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/10/2077422.html">16. Spring REST(6305)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/16/2108129.html">17. SQL Server T-SQL高级查询(6283)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/10/21/2220431.html">18. Solr开发文档(6180)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html">19. JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序(6169)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2017447.html">20. MyBatis3整合Spring3的Transaction事务处理(5591)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/29/2032571.html">21. SpringMVC 中整合JSON、XML视图一(5420)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/20/2085390.html">22. MySQL 学习笔记 一(5077)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/29/1998909.html">23. 二、CXF 入门示例(4816)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/28/1997608.html">24. jQuery autocomplete 自扩展插件、自动补全示例(4550)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/27/2030264.html">25. Java 的JSON、XML转换方法——目录索引(4495)</a></li></ul></div>
</div>

<h3 class="catListTitle">评论排行榜</h3>
<div class="RecentComment" id="TopCommentsPosts">
	<div id="TopFeedbackPostsBlock"><ul><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html">1. MyBatis3整合Spring3、SpringMVC3(52)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html">2. JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序(35)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/16/2108129.html">3. SQL Server T-SQL高级查询(24)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/08/2075201.html">4. Spring整合DWR comet 实现无刷新 多人聊天室(18)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/19/2020551.html">5. FreeMarker整合Spring 3(18)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/01/07/1929577.html">6. Struts2、Spring、Hibernate整合ExtJS(18)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110862.html">7. SQL Server 存储过程(17)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html">8. 【MongoDB for Java】Java操作MongoDB(13)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/10/31/2747838.html">9. 谈谈个人关于程序开发中，“零配置”和“有配置”的看法(13)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/22/2024628.html">10. Jackson 框架，轻易转换JSON(13)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/06/18/2553886.html">11. JavaScript/jQuery WebIM 及时聊天通信工具 本地客户端(12)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/07/31/2616896.html">12. 移动应用（手机应用）开发IM聊天程序解决方案(11)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110325.html">13. SQL Server 事务、异常和游标(10)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/18/2109291.html">14. SQL Server 索引和视图(10)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/21/2112559.html">15. SQL Server 开发指南(10)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/09/30/2196767.html">16. Java 多线程断点下载文件(8)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/20/2111316.html">17. SQL Server 触发器(8)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/01/2066426.html">18. mongoDB 入门指南、示例(8)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/29/1998909.html">19. 二、CXF 入门示例(8)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/21/2023805.html">20. JSON-lib框架，转换JSON、XML不再困难(7)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/15/2107740.html">21. SQL Server Transact-SQL 编程(7)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/10/21/2220431.html">22. Solr开发文档(6)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/25/2026819.html">23. 用Castor 处理XML文档(6)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/16/1985690.html">24. 四、 用axis2的辅助工具发布、调用WebService(6)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/10/2077422.html">25. Spring REST(5)</a></li></ul></div>
</div>
<h3 class="catListTitle">推荐排行榜</h3>
<div class="RecentComment">
	<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110862.html">1. SQL Server 存储过程(28)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/20/2111316.html">2. SQL Server 触发器(21)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/16/2108129.html">3. SQL Server T-SQL高级查询(17)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/19/2110325.html">4. SQL Server 事务、异常和游标(10)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/08/13/2635779.html">5. JavaScript/jQuery、HTML、CSS 构建 Web IM 远程及时聊天通信程序(9)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/01/2066426.html">6. mongoDB 入门指南、示例(9)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/21/2023805.html">7. JSON-lib框架，转换JSON、XML不再困难(9)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/18/2109291.html">8. SQL Server 索引和视图(8)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/15/2107740.html">9. SQL Server Transact-SQL 编程(7)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/07/21/2112559.html">10. SQL Server 开发指南(7)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/06/18/2553886.html">11. JavaScript/jQuery WebIM 及时聊天通信工具 本地客户端(6)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/22/2025197.html">12. xStream完美转换XML、JSON(6)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/06/02/2068665.html">13. 【MongoDB for Java】Java操作MongoDB(6)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/22/2024628.html">14. Jackson 框架，轻易转换JSON(5)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/09/06/2672891.html">15. Lucene 基础理论(5)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/10/21/2220431.html">16. Solr开发文档(5)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/09/30/2196767.html">17. Java 多线程断点下载文件(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/01/05/2313059.html">18. jquery blockUI 扩展插件 Dialog(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/09/05/2671678.html">19. Lucene 简单手记(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2012/10/31/2747838.html">20. 谈谈个人关于程序开发中，“零配置”和“有配置”的看法(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2017447.html">21. MyBatis3整合Spring3的Transaction事务处理(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/04/15/2016324.html">22. MyBatis3整合Spring3、SpringMVC3(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/30/1999563.html">23. 五、CXF WebService整合Spring(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/03/28/1997608.html">24. jQuery autocomplete 自扩展插件、自动补全示例(4)</a></li><li><a href="http://www.cnblogs.com/hoojo/archive/2011/01/07/1929577.html">25. Struts2、Spring、Hibernate整合ExtJS(3)</a></li></ul></div>
</div></div></div>
	
</div>

<!--done-->
<div class="footer">
	Powered by: <a href="http://www.cnblogs.com/">博客园</a>	模板提供：<a href="http://blog.hjenglish.com/">沪江博客</a>
	Copyright ©2013 hoojo
</div>



<script type="text/javascript" src="ehcache_files/google-analytics.js"></script>


</body></html>